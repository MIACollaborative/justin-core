"use strict";(self.webpackChunkjustin_core_docs=self.webpackChunkjustin_core_docs||[]).push([[1095],{8249:(n,e,o)=>{o.r(e),o.d(e,{assets:()=>l,contentTitle:()=>d,default:()=>h,frontMatter:()=>a,metadata:()=>i,toc:()=>r});const i=JSON.parse('{"id":"guides/mongo","title":"Setting up MongoDB","description":"Install MongoDB","source":"@site/versioned_docs/version-0.1.0/guides/mongo.md","sourceDirName":"guides","slug":"/guides/mongo","permalink":"/justin-core/guides/mongo","draft":false,"unlisted":false,"tags":[],"version":"0.1.0","lastUpdatedBy":null,"lastUpdatedAt":null,"sidebarPosition":5,"frontMatter":{"id":"mongo","title":"Setting up MongoDB","sidebar_position":5},"sidebar":"tutorialSidebar","previous":{"title":"Exported Types","permalink":"/justin-core/reference/types"}}');var s=o(4848),t=o(8453);const a={id:"mongo",title:"Setting up MongoDB",sidebar_position:5},d=void 0,l={},r=[{value:"Install MongoDB",id:"install-mongodb",level:2},{value:"Download MongoDB Community Edition",id:"download-mongodb-community-edition",level:3},{value:"Create folder for storing data",id:"create-folder-for-storing-data",level:3},{value:"Run MongoDB",id:"run-mongodb",level:2},{value:"Enable MongoDB ReplicaSets",id:"enable-mongodb-replicasets",level:3},{value:"Mac OS",id:"mac-os",level:4},{value:"Windows",id:"windows",level:4},{value:"Both MacOS and Windows",id:"both-macos-and-windows",level:4},{value:"Run <code>mongod</code> whenever running JustIn apps",id:"run-mongod-whenever-running-justin-apps",level:3},{value:"Install MongoDB GUI (Optional)",id:"install-mongodb-gui-optional",level:2}];function c(n){const e={a:"a",code:"code",h2:"h2",h3:"h3",h4:"h4",li:"li",ol:"ol",p:"p",pre:"pre",...(0,t.R)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.h2,{id:"install-mongodb",children:"Install MongoDB"}),"\n",(0,s.jsx)(e.p,{children:"JustIn requires a MongoDB server with replica sets in order to work. These instructions cover how to set up a local instance of MongoDB for testing and playing with the examples."}),"\n",(0,s.jsx)(e.h3,{id:"download-mongodb-community-edition",children:"Download MongoDB Community Edition"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.a,{href:"https://www.mongodb.com/docs/manual/administration/install-community/",children:"Download MongoDB community edition"})}),"\n",(0,s.jsx)(e.h3,{id:"create-folder-for-storing-data",children:"Create folder for storing data"}),"\n",(0,s.jsxs)(e.p,{children:["On Mac, create a ",(0,s.jsx)(e.code,{children:"/data/mdata"})," directory in your home directory (",(0,s.jsx)(e.code,{children:"$ mkdir ~/data/mdata"}),")."]}),"\n",(0,s.jsxs)(e.p,{children:["On Windows, create a ",(0,s.jsx)(e.code,{children:"\\data\\mdata"})," directory at the top level of your C: drive, or (",(0,s.jsx)(e.code,{children:"mkdir c:\\data\\mdata"}),")."]}),"\n",(0,s.jsx)(e.h2,{id:"run-mongodb",children:"Run MongoDB"}),"\n",(0,s.jsx)(e.h3,{id:"enable-mongodb-replicasets",children:"Enable MongoDB ReplicaSets"}),"\n",(0,s.jsxs)(e.p,{children:["JustIn utilizes MongoDB's capability to subscribe to changes in the database, which requires the use of ReplicaSet (",(0,s.jsx)(e.a,{href:"https://www.mongodb.com/docs/manual/replication/",children:"https://www.mongodb.com/docs/manual/replication/"}),"). To enable this feature, you will need to"]}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsxs)(e.li,{children:["run ",(0,s.jsx)(e.code,{children:"mongod"})," with the ",(0,s.jsx)(e.code,{children:"--replSet"})," option in one terminal"]}),"\n"]}),"\n",(0,s.jsx)(e.h4,{id:"mac-os",children:"Mac OS"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"$ mongod --port 27017 --dbpath ~/data/mdata --replSet rs0 --bind_ip localhost\n"})}),"\n",(0,s.jsx)(e.h4,{id:"windows",children:"Windows"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:'$ mongod --port 27017 --dbpath "c:\\data\\mdata" --replSet rs0 --bind_ip localhost\n'})}),"\n",(0,s.jsx)(e.p,{children:"At this point you may see a bunch of errors complaining that replica sets are not initialized."}),"\n",(0,s.jsxs)(e.ol,{start:"2",children:["\n",(0,s.jsxs)(e.li,{children:["Use ",(0,s.jsx)(e.code,{children:"mongosh"})," to enable Replica Sets"]}),"\n"]}),"\n",(0,s.jsxs)(e.p,{children:["Leaving ",(0,s.jsx)(e.code,{children:"mongod"})," running, open a separate terminal and do the following:"]}),"\n",(0,s.jsx)(e.h4,{id:"both-macos-and-windows",children:"Both MacOS and Windows"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"$ mongosh\n[mongosh prompt] > rs.initiate()\n[mongosh prompt] > exit\n"})}),"\n",(0,s.jsxs)(e.h3,{id:"run-mongod-whenever-running-justin-apps",children:["Run ",(0,s.jsx)(e.code,{children:"mongod"})," whenever running JustIn apps"]}),"\n",(0,s.jsxs)(e.p,{children:["Everything should be ready to go now, and you should see the error messages in the ",(0,s.jsx)(e.code,{children:"mongod"})," terminal stop. ",(0,s.jsx)(e.code,{children:"mongod"})," will need to stay running while any JustIn apps are running."]}),"\n",(0,s.jsxs)(e.p,{children:["For information about other ways to install and run MongoDB, including running it as an always-available service, see the ",(0,s.jsx)(e.a,{href:"https://www.mongodb.com/docs/manual/installation/",children:"MongoDB documentation"})," for your OS. Note that however you configure and run MongoDB you will need to be sure to enable ReplicaSets as discussed above."]}),"\n",(0,s.jsx)(e.h2,{id:"install-mongodb-gui-optional",children:"Install MongoDB GUI (Optional)"}),"\n",(0,s.jsxs)(e.p,{children:["If you want to see the data that JustIn creates and modifies in Mongo, you can use ",(0,s.jsx)(e.a,{href:"https://www.mongodb.com/products/compass",children:"MongoDB compass"})," for exploring the DB, or you can use ",(0,s.jsx)(e.a,{href:"https://www.mongodb.com/docs/mongodb-shell/",children:"mongosh"})," from the command line."]})]})}function h(n={}){const{wrapper:e}={...(0,t.R)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(c,{...n})}):c(n)}}}]);